<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Some examples • criticalESvalue</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Some examples">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">criticalESvalue</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/equations.html">Equations</a></li>
    <li><a class="dropdown-item" href="../articles/example.html">Some examples</a></li>
    <li><a class="dropdown-item" href="../articles/formula-syntax.html">formula-syntax</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Some examples</h1>
            
      

      <div class="d-none name"><code>example.Rmd</code></div>
    </div>

    
    
<p>To install the package the following line of code is needed:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># require(devtools)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"filippogambarota/criticalvalue"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://psicostat.github.io/criticalESvalue/" class="external-link">criticalESvalue</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="examples-on-real-data">Examples on real data<a class="anchor" aria-label="anchor" href="#examples-on-real-data"></a>
</h2>
<p>For our examples on real data we used from the package ‘psych’ the
dataset “holzinger.swineford” which has a series of demographics and
scores of different subtests measuring intelligence on 301 subjects.
Once the package is retrieved with ‘library’, the dataset can be opened
using ‘data(“name of the dataset”)’. For simplicity we decided to rename
it with a shorter name.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/" class="external-link">psych</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/" class="external-link">psychTools</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"holzinger.swineford"</span><span class="op">)</span></span>
<span><span class="va">Holz</span> <span class="op">&lt;-</span> <span class="va">holzinger.swineford</span></span></code></pre></div>
<div class="section level4">
<h4 id="critical-value-for-correlation">Critical value for correlation<a class="anchor" aria-label="anchor" href="#critical-value-for-correlation"></a>
</h4>
<p>In the following chunk we want to get the critical value for a
correlation of two cognitive sub-tests of 301 subjects. We can do so
with the ‘critical’ function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.test.html" class="external-link">cor.test</a></span><span class="op">(</span><span class="va">Holz</span><span class="op">$</span><span class="va">t01_visperc</span>, <span class="va">Holz</span><span class="op">$</span><span class="va">t02_cubes</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/critical.html">critical</a></span><span class="op">(</span><span class="va">cc</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Pearson's product-moment correlation</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  Holz$t01_visperc and Holz$t02_cubes</span></span>
<span><span class="co">#&gt; t = 5.3852, df = 299, p-value = 1.467e-07</span></span>
<span><span class="co">#&gt; alternative hypothesis: true correlation is not equal to 0</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;  0.1907064 0.3970530</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt;       cor </span></span>
<span><span class="co">#&gt; 0.2973479 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |== Critical Value ==| </span></span>
<span><span class="co">#&gt; |rc| = 0.1130784</span></span></code></pre></div>
<p>First, the ‘cor.test’ function should be used on the two variables of
interest and then the newly created object should be put into the
‘critical’ function. The output will add, underneath the usual output of
the ‘cor.test’ function, the absolute critical value (rc), representing
the smallest significant effect.</p>
</div>
<div class="section level4">
<h4 id="critical-value-for-t-test">Critical value for t-test<a class="anchor" aria-label="anchor" href="#critical-value-for-t-test"></a>
</h4>
<p>Now we want to know the critical value for a t-test comparing boys
and girls on a cognitive variable of visual perception. In this case, it
can be easily done with the same procedure using the ‘t.test’
function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">Holz</span><span class="op">$</span><span class="va">t01_visperc</span> <span class="op">[</span> <span class="va">Holz</span><span class="op">$</span><span class="va">female</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>, <span class="va">Holz</span><span class="op">$</span><span class="va">t01_visperc</span> <span class="op">[</span> <span class="va">Holz</span><span class="op">$</span><span class="va">female</span> <span class="op">==</span> <span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/critical.html">critical</a></span><span class="op">(</span><span class="va">tt</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Welch Two Sample t-test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  Holz$t01_visperc[Holz$female == 1] and Holz$t01_visperc[Holz$female == 2]</span></span>
<span><span class="co">#&gt; t = 1.4095, df = 298.9, p-value = 0.1597</span></span>
<span><span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;  -0.06419229  0.38823118</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt; mean of x mean of y </span></span>
<span><span class="co">#&gt;  4.314090  4.152071 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |== Effect Size and Critical Value ==| </span></span>
<span><span class="co">#&gt; d = 0.1623665 dc = ± 0.2269609 bc = ± 0.2262117 </span></span>
<span><span class="co">#&gt; g = 0.1619587 gc = ± 0.2263909</span></span></code></pre></div>
<p>The output now gives a wider range of values: the cohen’s d
calculated on the data (d), the critical cohen’s d (dc), the numerator
of the formula for the critical cohen’s d (bc), the cohen’s d adjusted
for small samples (g) and the critical cohen’s d adjusted for small
samples (gc).</p>
</div>
<div class="section level4">
<h4 id="critical-value-for-linear-model">Critical value for linear model<a class="anchor" aria-label="anchor" href="#critical-value-for-linear-model"></a>
</h4>
<p>Now we want to calculate the critical coefficients for a linear model
with visual perception predicted by age. We can do so by wrapping the
‘critical’ function into the ‘summary’ function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span> <span class="va">t01_visperc</span> <span class="op">~</span> <span class="va">ageyr</span> , data <span class="op">=</span> <span class="va">Holz</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/critical.html">critical</a></span><span class="op">(</span><span class="va">ll</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = t01_visperc ~ ageyr, data = Holz)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -3.6019 -0.6591 -0.0019  0.6266  3.1124 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate |Critical Estimate| Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  4.97325             1.41113    0.71706   6.936 2.51e-11 ***</span></span>
<span><span class="co">#&gt; ageyr       -0.05714             0.10822    0.05499  -1.039      0.3    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 1.001 on 299 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.003597,   Adjusted R-squared:  0.0002647 </span></span>
<span><span class="co">#&gt; F-statistic: 1.079 on 1 and 299 DF,  p-value: 0.2997</span></span></code></pre></div>
<p>In the output, a column will appear next to the usual column of the
estimates reporting critical values for both the intercept and the
predictor(s).</p>
</div>
</div>
<div class="section level2">
<h2 id="examples-with-sample-size">Examples with sample size<a class="anchor" aria-label="anchor" href="#examples-with-sample-size"></a>
</h2>
<p>In the next examples we will show the use of the package’s functions
to calculate critical values in a prospective framework.</p>
<div class="section level4">
<h4 id="critical-t-value-from-sample-size">Critical t value from sample size<a class="anchor" aria-label="anchor" href="#critical-t-value-from-sample-size"></a>
</h4>
<p>Let us say that we want to calculate the critical t value for a
t-test for a sample of 1200 subjects for each group, the following chunk
shows how to do so with the function ‘critical_t2s’:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1200</span></span>
<span><span class="fu"><a href="../reference/critical_t2s.html">critical_t2s</a></span><span class="op">(</span>n1 <span class="op">=</span> <span class="va">n</span> , n2 <span class="op">=</span> <span class="va">n</span> , hypothesis <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in crit_from_t_t2s(t = t, n1 = n1, n2 = n2, se = se, conf.level =</span></span>
<span><span class="co">#&gt; conf.level, : When var.equal = FALSE the critical value calculated from t</span></span>
<span><span class="co">#&gt; assume sd1 = sd2!</span></span>
<span><span class="co">#&gt; Warning in crit_from_t_t2s(t = t, n1 = n1, n2 = n2, se = se, conf.level =</span></span>
<span><span class="co">#&gt; conf.level, : When t is NULL, d cannot be computed, returning NA</span></span>
<span><span class="co">#&gt; Warning in crit_from_t_t2s(t = t, n1 = n1, n2 = n2, se = se, conf.level =</span></span>
<span><span class="co">#&gt; conf.level, : When se = NULL bc cannot be computed, returning NA!</span></span>
<span><span class="co">#&gt; $d</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dc</span></span>
<span><span class="co">#&gt; [1] 0.06717682</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $bc</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $df</span></span>
<span><span class="co">#&gt; [1] 2398</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gc</span></span>
<span><span class="co">#&gt; [1] 0.06715581</span></span></code></pre></div>
<p>The function requires to specify the hypothesis as “less”, “greater”
or “two.tailed”. In output we can find the critical d and the critical
g, which is the cohen’s d adjusted for small samples.</p>
</div>
<div class="section level4">
<h4 id="critical-t-value-from-sample-size-for-a-paired-t-test-">Critical t value from sample size for a paired t-test.<a class="anchor" aria-label="anchor" href="#critical-t-value-from-sample-size-for-a-paired-t-test-"></a>
</h4>
<p>Assuming that we want to calculate the critical value for a paired
t-test (i.e. pre-post treatment), we can do so with the function
‘critical_t2sp’ in the following way:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">15</span></span>
<span><span class="fu"><a href="../reference/critical_t2sp.html">critical_t2sp</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span> , hypothesis <span class="op">=</span> <span class="st">"less"</span>, conf.level <span class="op">=</span> <span class="fl">.95</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in crit_from_t_t2sp(t = t, n = n, se = se, r12 = r12, hypothesis =</span></span>
<span><span class="co">#&gt; hypothesis, : when t is NULL, dz and d cannot be computed, returning NA</span></span>
<span><span class="co">#&gt; Warning in crit_from_t_t2sp(t = t, n = n, se = se, r12 = r12, hypothesis =</span></span>
<span><span class="co">#&gt; hypothesis, : When se is NULL, bc cannot be computed, returning NA</span></span>
<span><span class="co">#&gt; $dz</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dzc</span></span>
<span><span class="co">#&gt; [1] 0.4547683</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $d</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dc</span></span>
<span><span class="co">#&gt; [1] 0.6431395</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $bc</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $df</span></span>
<span><span class="co">#&gt; [1] 14</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gc</span></span>
<span><span class="co">#&gt; [1] 0.6079519</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gzc</span></span>
<span><span class="co">#&gt; [1] 0.4298869</span></span></code></pre></div>
<p>Specifying the direction of the hypothesis and the confidence
interval, the function will give as output the standardized (dzc) and
un-standardized (dc) critical cohen’s d, and the critical cohen’s d
adjusted for small samples both standardized (gc) and un-standardized
(gzc).</p>
</div>
<div class="section level4">
<h4 id="critical-value-for-a-correlation-from-sample-size">Critical value for a correlation from sample size<a class="anchor" aria-label="anchor" href="#critical-value-for-a-correlation-from-sample-size"></a>
</h4>
<p>The same can be done for the critical value for a correlation on a
defined sample size with the ‘critical_cor’ function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">60</span></span>
<span><span class="fu"><a href="../reference/critical_cor.html">critical_cor</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, hypothesis <span class="op">=</span> <span class="st">"two.sided"</span>, test <span class="op">=</span> <span class="st">"z"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $rc</span></span>
<span><span class="co">#&gt; [1] 0.2539247</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $rzc</span></span>
<span><span class="co">#&gt; [1] 0.2596036</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $df</span></span>
<span><span class="co">#&gt; [1] 58</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se_r</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se_rc</span></span>
<span><span class="co">#&gt; [1] 0.1270027</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se_rzc</span></span>
<span><span class="co">#&gt; [1] 0.1324532</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $test</span></span>
<span><span class="co">#&gt; [1] "z"</span></span></code></pre></div>
<p>Once more, the direction of the hypothesis and the test to apply,
either t-test or z-test, should be specified. The output will return the
critical correlation value, the degrees of freedom and the type of test
used.</p>
</div>
<div class="section level4">
<h4 id="critical-value-of-a-beta-from-a-model-from-saple-size">Critical value of a beta from a model from saple size<a class="anchor" aria-label="anchor" href="#critical-value-of-a-beta-from-a-model-from-saple-size"></a>
</h4>
<p>Let us say that we want to know the critical beta of a model, we can
use the ‘critical_coef’ function as shown in the following chunk:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">170</span></span>
<span><span class="fu"><a href="../reference/critical_coef.html">critical_coef</a></span><span class="op">(</span>seb <span class="op">=</span> <span class="fl">.1</span>, n <span class="op">=</span> <span class="va">n</span>, p <span class="op">=</span> <span class="fl">.01</span>, conf.level <span class="op">=</span> <span class="fl">.95</span>, hypothesis <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $bc</span></span>
<span><span class="co">#&gt; [1] 0.165392</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $test</span></span>
<span><span class="co">#&gt; [1] "t"</span></span></code></pre></div>
<p>It is important to specifying sample size, standard error of the
estimate, p-value, confidence level and hypothesis. The output will
return the critical beta and the test used.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ambra Perugini, Filippo Gambarota, Enrico Toffalini.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
